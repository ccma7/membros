<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel Admin</title>
<style>
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background: #f0f0f0;
}

/* ===== LOGIN FULLSCREEN ===== */
#loginDiv {
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.loginBox {
    background: white;
    padding: 30px 20px;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 400px;
    box-sizing: border-box;
    border: 2px solid #0097b2;
    text-align: center;
}

.loginBox h2 {
    font-size: 2rem;
    margin-bottom: 20px;
}

.loginBox input {
    width: 100%;
    padding: 14px;
    margin: 10px 0;
    font-size: 1rem;
    border-radius: 8px;
    border: 1px solid #ccc;
    box-sizing: border-box;
}

.loginBox button {
    width: 100%;
    padding: 16px;
    margin-top: 10px;
    font-size: 1.2rem;
    border-radius: 8px;
    border: none;
    background-color: #007BFF;
    color: white;
    cursor: pointer;
    transition: background 0.3s;
}

.loginBox button:hover {
    background-color: #0056b3;
}

/* ===== DASHBOARD ===== */
#dashboard {
    display: none;
    padding: 15px;
}

.topBar {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    gap: 10px;
}

.topBar button {
    flex: 1;
    min-width: 100px;
    padding: 10px;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    cursor: pointer;
    background-color: #0097b2;
    color: white;
    transition: 0.3s;
}

.topBar button:hover {
    background: #006c80;
}

#filtroInput {
    width: 100%;
    max-width: 300px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
}

/* ===== TABELA ===== */
.tableWrapper {
    overflow-x: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

table th, table td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
    font-size: 0.95rem;
}

table th {
    background: #0097b2;
    color: white;
}

.statusSelect {
    padding: 5px;
    border-radius: 6px;
}

/* ===== MOBILE ===== */
@media(max-width:480px){
    .loginBox {
        padding: 25px 15px;
        border-radius: 10px;
    }
    .loginBox h2 { font-size: 1.8rem; }
    .loginBox input, .loginBox button { font-size: 1.1rem; padding: 14px; }
    .topBar { flex-direction: column; }
    .topBar button { width: 100%; }
}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginDiv">
  <div class="loginBox">
    <h2>Login Admin</h2>
    <input type="text" id="adminUser" placeholder="Usuário">
    <input type="password" id="adminPass" placeholder="Senha">
    <button onclick="loginAdmin()">Entrar</button>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard">
  <div class="topBar">
    <input type="text" id="filtroInput" placeholder="Buscar membro..." oninput="filtrarMembros()">
    <button onclick="abrirPlanilha()">Planilha</button>
    <button onclick="logout()">Sair</button>
  </div>

  <div id="contadorDiv"></div>

  <div class="tableWrapper">
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="tabelaMembros"></tbody>
    </table>
  </div>
</div>

<script>
// Dados fake para simular membros (substituir pelo fetch da planilha)
let membros = [
    {nome:"Diego Souza", email:"diego@email.com", status:"Ativo"},
    {nome:"Maria Silva", email:"maria@email.com", status:"Inativo"},
    {nome:"Carlos Santos", email:"carlos@email.com", status:"Ativo"}
];
let membrosFiltrados = [...membros];

// LOGIN
function loginAdmin(){
    const user = document.getElementById('adminUser').value;
    const pass = document.getElementById('adminPass').value;
    if(user === "admin" && pass === "777ccma777"){
        document.getElementById('loginDiv').style.display = "none";
        document.getElementById('dashboard').style.display = "block";
        preencherTabela();
        atualizarContadores();
    } else {
        alert("Usuário ou senha incorretos");
    }
}

function logout(){
    document.getElementById('dashboard').style.display = "none";
    document.getElementById('loginDiv').style.display = "flex";
    document.getElementById('adminUser').value = "";
    document.getElementById('adminPass').value = "";
}

// Planilha
function abrirPlanilha(){
    window.open("https://docs.google.com/spreadsheets/d/SEU_ID_AQUI", "_blank");
}

// Preencher Tabela
function preencherTabela(){
    const tbody = document.getElementById("tabelaMembros");
    tbody.innerHTML = "";
    membrosFiltrados.forEach((m, i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td>${m.nome}</td>
            <td>${m.email}</td>
            <td>
                <select class="statusSelect" onchange="alterarStatus('${m.email}', this.value, ${i})">
                    <option value="Ativo" ${m.status==="Ativo"?"selected":""}>Ativo</option>
                    <option value="Inativo" ${m.status==="Inativo"?"selected":""}>Inativo</option>
                </select>
            </td>
        `;
        tbody.appendChild(tr);
    });
}

// Filtro
function filtrarMembros(){
    const termo = document.getElementById("filtroInput").value.toLowerCase().trim();
    membrosFiltrados = membros.filter(m =>
        m.nome.toLowerCase().includes(termo) || m.email.toLowerCase().includes(termo)
    );
    preencherTabela();
    atualizarContadores();
}

// Contadores
function atualizarContadores(){
    const ativos = membrosFiltrados.filter(m => m.status === "Ativo").length;
    const inativos = membrosFiltrados.filter(m => m.status === "Inativo").length;

    document.getElementById("contadorDiv").innerHTML = `
        <p><b>Membros Ativos:</b> ${ativos}</p>
        <p><b>Membros Inativos:</b> ${inativos}</p>
        <p><b>Total:</b> ${ativos + inativos}</p>
    `;
}

// Alterar status
function alterarStatus(email, novoStatus, index){
    const membro = membros.find(m => m.email === email);
    if(membro) membro.status = novoStatus;
    membrosFiltrados[index].status = novoStatus;
    preencherTabela();
    atualizarContadores();
}
</script>

</body>
</html>
